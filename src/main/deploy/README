To run the monitoring tests there are three shell scripts:

monitor-api.sh
monitor-metadata.sh
monitor-saml.sh

To see what the tests assert please read the project README.md on https://github.com/SURFconext/SURFConext-monitoring-tests

Before the tests run there are missing properties to configure in monitor.properties - located in the root of the zip:

engineBlockTrustChainFile
apiClientId
apiClientSecret
apiPersonId
apiPersonFullName

For the monitor-saml test to run correctly the Mujina IDP must be named 'OpenConext monitoring IdP' as displayName (both en - en).

Default the monitor.properties is configured for production. To run against a different environment change the:

conextDomain=surfconext.nl

property.

The monitor-*.sh scripts define the classpath for JAVA and the pre-configured pem files are supposed to be on the classpath. Create a
directory 'keys' in the same parent folder where you unzipped the conext-monitoring-tests-X-SNAPSHOT-dist.zip and place here the pem files:

engineBlockCertFile
mujinaPrivateKeyPath
mujinaCertPath

See the monitor.properties for an explanation. The output of the monitoring scripts must not contain ERROR